import { render, screen } from '@testing-library/react';
import '@testing-library/jest-dom';
import VulnerabilityDetails from '../src/Components/VulnerabilityDetails';

// Mock the DetailsCard component
jest.mock('../src/Components/DetailsCard', () => () => (
  <div>Mocked DetailsCard</div>
));

describe('VulnerabilityDetails Component', () => {
  const renderComponent = () => render(<VulnerabilityDetails />);

  it('should render the grid container', () => {
    renderComponent();
    const gridContainer = screen.getByTestId('vulnerabilityDetailsGrid');
    expect(gridContainer).toBeInTheDocument();
  });

  it('should render two DetailsCard components', () => {
    renderComponent();
    const detailCard1 = screen.getByTestId('detailCard1Container');
    const detailCard2 = screen.getByTestId('detailCard2Container');
    expect(detailCard1).toBeInTheDocument();
    expect(detailCard2).toBeInTheDocument();
    expect(screen.getAllByText('Mocked DetailsCard').length).toBe(2);
  });
});
